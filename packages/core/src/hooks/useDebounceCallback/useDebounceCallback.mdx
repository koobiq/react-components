import { Meta, Story, Status } from '../../../../../.storybook/components';

import * as Stories from './useDebounceCallback.stories';

<Meta of={Stories} />

# useDebounceCallback

<Status variant="stable" />

A hook that waits some time before running a function.

```tsx
import { useDebounceCallback } from '@koobiq/react-core';
```

When you call the returned function, it waits for the given time before running.
If you call it again during that time, the previous call is canceled.
The time is set in milliseconds.

## Definition

```tsx
type FunctionCallback = (...args: any[]) => void;

export type UseDebounceCallbackReturnValue<CB extends FunctionCallback> = [
  CB,
  () => void,
];

export type UseDebounceCallbackPropOptions = {
  /**
   * If `true`, the first call runs without delay.
   * @default false
   * */
  firstCallWithoutDelay: boolean;
};

export type UseDebounceCallbackProps<CB> = {
  /**
   * The function to be debounced.
   * It will only run after the specified delay has passed without new calls.
   */
  callback: CB;
  /**
   * Delay in milliseconds to wait before calling the callback.
   * @default 300
   */
  delay: number;
  /** Additional debounce options. */
  options: UseDebounceCallbackPropOptions;
};

/** A hook that waits some time before running a function. */
export function useDebounceCallback<CB extends FunctionCallback>({
  callback,
  delay = 300,
  options = { firstCallWithoutDelay: false },
}: UseDebounceCallbackProps<CB>): UseDebounceCallbackReturnValue<CB>;
```

## Example

<Story of={Stories.Example} />
