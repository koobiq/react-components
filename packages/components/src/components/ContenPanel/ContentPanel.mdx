import {
  Meta,
  Story,
  Props,
  Status,
} from '../../../../../.storybook/components';

import * as Stories from './ContentPanel.stories';

<Meta of={Stories} />

# ContentPanel

<Status variant="experimental" />

ContentPanel — a side panel that slides in from the edge and pushes adjacent content,
commonly used for quick preview of an item from a table.

```tsx
import { ContentPanel, ContentPanelContainer } from '@koobiq/react-components';
```

<Story of={Stories.Base} />

<Props />

## Components

Use these components to build a side panel that pushes adjacent content.

- `ContentPanelContainer` — A container that manages the layout and provides a place for the panel.
- `ContentPanel` — The side panel. Slides in from the edge and pushes adjacent content.
- `ContentPanel.Header` — The top section, typically for the title and actions.
- `ContentPanel.Body` — The main scrollable content area.
- `ContentPanel.Footer` — The bottom section, typically for primary actions.

## Container

First, wrap your content with `ContentPanelContainer`.

Render `ContentPanel` inside the same container, next to your main content, and put your panel content inside it.

Build the panel UI with `ContentPanel.Header`, `ContentPanel.Body`, and `ContentPanel.Footer`.

```tsx
<ContentPanelContainer>
  {({ toggle, isOpen }) => (
    <>
      <Button onPress={toggle}>{isOpen ? 'Close panel' : 'Open panel'}</Button>

      <ContentPanel>
        <ContentPanel.Header>...</ContentPanel.Header>
        <ContentPanel.Body>...</ContentPanel.Body>
        <ContentPanel.Footer>...</ContentPanel.Footer>
      </ContentPanel>
    </>
  )}
</ContentPanelContainer>
```

### Triggers

Then use the render prop to control the panel — `open`, `close`, `toggle`, and read its state — `isOpen`.

<Story of={Stories.Triggers} />

### Open

You can control the open state outside the component.

The container controls whether the panel is open. By default, the panel isn't open. Use `defaultOpen` to set the initial open state.
Use the `isOpen` prop to control the open state from outside. The `onOpenChange` is called whenever the open state should change.

<Story of={Stories.Open} />

### Content Interaction

<Story of={Stories.ContentInteraction} />

## Panel

The `ContentPanel` is usually used inside `ContentPanelContainer`, which provides the open/close state.

For more advanced use cases, `ContentPanel` can also be used as a [standalone](#Standalone) component when you want to manage its behavior yourself.

### Resizable

The `ContentPanel` can be made resizable by setting `isResizable` to `true`.

It supports four width props to control sizing behavior: `defaultWidth`, `width`, `minWidth`, `maxWidth`.

All of them accept a number (pixels) or a string value like `"400"`, or `"50%"` (relative to the container width).

<Story of={Stories.Resizable} />

### Standalone

Use `ContentPanel` as a standalone component when you don't need `ContentPanelContainer`
and want to control the open state yourself.

In this mode, you manage the open state and close actions manually (e.g. via `isOpen` / `onOpenChange`),
and are responsible for shifting the main content when the panel opens.

<Story of={Stories.Standalone} />
