import {
  Meta,
  Story,
  Props,
  Status,
} from '../../../../../.storybook/components';

import * as Stories from './Autocomplete.stories';

<Meta of={Stories} />

# Autocomplete

<Status variant="experimental" />

An autocomplete combines a text input with a listbox, allowing users to filter a list of options to items matching a query.

```tsx
import { Autocomplete } from '@koobiq/react-components';
```

<Story of={Stories.Base} />

## Props

<Props />

## Dynamic items

Autocomplete accepting both static and dynamic collections.

- **Static**: The usage example above shows the static implementation, which can be used when the full list of options is known ahead of time.
- **Dynamic**: The example below can be used when the options come from an external data source such as an API call, or update over time.

<Story of={Stories.DynamicItems} />

## Addons

You can add an extra content using the `startAddon` and `endAddon` props.

<Story of={Stories.Addons} />

## Variant

To change the visual state of the autocomplete, use the `variant` prop.

<Story of={Stories.Variant} />

## Invalid

The `isInvalid` prop toggles the error state. The `errorMessage` shows a message to explain the error to the user.

<Story of={Stories.Invalid} />

## Disabled

A autocomplete can be disabled by passing the `isDisabled` prop.

<Story of={Stories.Disabled} />

## Disabled items

Autocomplete supports marking items as disabled using the `disabledKeys` prop.
Each key in this list corresponds with the `key` prop passed to the `Autocomplete.Item` component.

<Story of={Stories.DisabledItems} />

## Required

To make a field required, add the `isRequired` prop.
If the field has a label, a required indicator will appear next to it.

<Story of={Stories.Required} />

## Read only

The `isReadOnly` boolean prop makes the component text content immutable.
Unlike `isDisabled`, the component remains focusable and the contents can still be copied.
See the [MDN docs](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/readonly) for more information.

<Story of={Stories.ReadOnly} />

## Full width

The `fullWidth` prop will make a autocomplete fit to its parent width.

<Story of={Stories.FullWidth} />

## Label placement and alignment

Use `labelPlacement` and `labelAlign` props to set the position of the label.

See the [Form](?path=/docs/components-form--docs#visual-options) for a two-column layout with labels on the side and a shared label column.

<Story of={Stories.LabelPlacementAlignment} />

## Menu trigger behavior

Autocomplete supports three different `menuTrigger` prop values:

- **input** (default): Autocomplete menu opens when the user edits the input text.
- **focus**: Autocomplete menu opens when the user focuses the Autocomplete input.
- **manual**: Autocomplete menu only opens when the user presses the trigger button or uses the arrow keys.

The example below has menuTrigger set to focus.

<Story of={Stories.MenuTriggerBehavior} />

## Custom Value

By default, Autocomplete doesn't allow users to specify a value that doesn't exist in the list of options
and will revert the input value to the current selected value on blur. By specifying `allowsCustomValue`,
this behavior is suppressed and the user is free to enter any value within the field.

<Story of={Stories.CustomValue} />
